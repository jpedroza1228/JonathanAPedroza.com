{
  "hash": "909400074d4e4dc542270e5c3ec6a418",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Bayes Nets\" \nsubtitle: |\n  Quick Introduction\nimage: wet_spiderweb.jpg\ncategories: [Bayesian, Bayesian Network, Bayes Net, R, Python, Stan, rstan, cmdstanr, pystan, cmdstanpy, ggdag, dagitty]\ndate: 2024-11-14\n# citation:\n  # url: \nexecute:\n    warning: false\n    message: false\nparams:\n  slug: Bayes-Net-part-1\n  date: 2024-11-14\n---\n\n![Photo by [Michael Podger](https://unsplash.com/@jammypodger7470?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash) on [Unsplash](https://unsplash.com/photos/tilt-shift-photography-of-dew-on-spider-web-jpgRztEuaV4?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash)](wet_spiderweb.jpg){fig-alt=\"An image of a wet spider web.\" fig-align=\"left\" width=\"6in\" height=\"6in\"}\n\nI will be the first to state that I am not an expert in the field of conducting psychometric models, Bayesian networks, Bayesian analyses, **but** I have been struggling to find any blog posts about conducting a bayes net with latent variables that uses [Stan](https://mc-stan.org/). The purpose of this post is to walk through Stan and some bayes net terminology to get a basic understanding of some psychometric models conducted using Bayesian inference.\n\nTo get started, make sure you follow the detailed instructions on installing [RStan](https://github.com/stan-dev/rstan/wiki/RStan-Getting-Started) or [PyStan](https://pystan.readthedocs.io/en/latest/installation.html). I know if using Mac, make sure to also download Xcode so that Stan will work correctly. For posts having to do with Bayes Net, I will be doing my programming in either R or Python, while calling on Stan to conduct the Markov Chain Monte Carlo (MCMC) sampling. \\\n\\\nFor these models, I'll be using the ECPE dataset from the [edmdata package in R](https://github.com/tmsalab/edmdata/). This dataset has 28 items for 2,922 students with 3 latent attributes/variables. A 1 on for each item indicates whether a student got the item correct and a 0 indicates they got the item incorrect.\n\nWhile I will be discussing bayes net through an educational measurement lens, bayes net can be used outside of education to show that individuals have skills that are not directly measured. Instead of items on an assessment, tasks that capture each skill can be assessed. Before walking through some bayes net terminology, it is important to note that this model is simply for educational purposes. Components of the psychometric models I will be writing about require expert opinion and domain knowledge. For example, bayes net models require expert opinions on the assignment of items to skills. Additionally, bayes net models require expert opinion on the priors for the lambda ($\\lambda$) parameters.\n\nSince there are different opinions on using different terms, I am going to stick to the following terms.\n\n-   Node = Observed variable\n-   Edge = Path/arrow between two nodes\n-   Parent = The node that has an arrow/edge directed at another node\n-   Child = The node that the arrow/edge is directed at from another node\n-   Attribute/Skill/Trait = Latent (unobserved/hidden) node\n-   DAG = Directed Acyclic Graph (visual representation of nodes \\[similar to path analysis in visualization\\])\n-   Q-matrix = A matrix showing the relationship between the assessment items and each attribute/skill, with each row being an item and each column being a skill.\n\nFor this introductory post into bayes net, I thought it would be best to include some visuals for the models I'll be testing. For both R and Python, I will be using the `cmdstan` version; whether it be [cmdstanpy](https://cmdstanpy.readthedocs.io/en/v1.2.5/) or [cmdstanr](https://mc-stan.org/cmdstanr/). Finally, I will state that while this is introductory to a bayes net model, this post assumes that you have a basic understanding of Bayesian inference.\n\n# Setting up the Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(cmdstanr)\nlibrary(bayesplot)\nlibrary(posterior)\nlibrary(ggdag)\nlibrary(dagitty)\n\ny <- read_csv(\"https://raw.githubusercontent.com/jpedroza1228/projects_portfolio_and_practice/refs/heads/main/projects/dcm/lcdm_py/ecpe_data.csv\") |>\n  janitor::clean_names()\n\nq <- read_csv(\"https://raw.githubusercontent.com/jpedroza1228/projects_portfolio_and_practice/refs/heads/main/projects/dcm/lcdm_py/ecpe_qmatrix.csv\") |>\n  janitor::clean_names()\n```\n:::\n\n\nBelow shows the first 10 rows for all the items in the dataset. Each row is a student and each cell is whether or not that student got the correct answer for each item.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nreact_table <- function(data){\n  reactable::reactable(\n    {{data}},\n    filterable = TRUE,\n    sortable = TRUE,\n    highlight = TRUE,\n    searchable = TRUE\n  )\n  }\n\nreact_table(y |> head(10) |> rowid_to_column())\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"reactable html-widget html-fill-item\" id=\"htmlwidget-6b877af8b5e4c332a293\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-6b877af8b5e4c332a293\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"rowid\":[1,2,3,4,5,6,7,8,9,10],\"item01\":[1,1,1,1,1,1,1,0,1,1],\"item02\":[1,1,1,1,1,1,1,1,1,1],\"item03\":[1,1,1,1,1,1,1,1,1,1],\"item04\":[0,1,1,1,1,1,1,1,1,1],\"item05\":[1,1,1,1,1,1,1,1,1,0],\"item06\":[1,1,1,1,1,1,1,1,1,0],\"item07\":[1,1,0,1,1,1,1,0,1,1],\"item08\":[1,1,1,1,1,1,1,1,1,1],\"item09\":[1,1,1,1,1,1,1,1,1,1],\"item10\":[1,1,1,1,1,1,1,1,1,1],\"item11\":[1,1,1,1,1,1,1,0,1,1],\"item12\":[1,1,1,1,0,1,1,1,0,0],\"item13\":[1,1,1,1,1,1,1,0,1,1],\"item14\":[1,1,1,1,1,1,1,0,1,1],\"item15\":[1,1,1,1,1,1,1,1,1,1],\"item16\":[1,1,1,1,1,1,1,1,1,1],\"item17\":[1,0,1,1,1,1,1,1,1,1],\"item18\":[1,1,1,1,0,1,1,0,1,1],\"item19\":[1,1,1,1,0,1,1,1,1,1],\"item20\":[1,1,1,1,1,1,1,0,0,0],\"item21\":[1,1,1,1,1,0,0,1,1,0],\"item22\":[1,1,1,1,0,1,1,1,1,0],\"item23\":[1,1,1,1,1,1,1,1,1,0],\"item24\":[0,0,1,1,1,1,1,0,1,0],\"item25\":[1,1,1,1,1,1,1,1,1,1],\"item26\":[1,1,1,1,1,1,1,1,1,1],\"item27\":[1,1,1,1,1,1,1,0,1,1],\"item28\":[1,1,1,1,1,1,1,1,1,1]},\"columns\":[{\"id\":\"rowid\",\"name\":\"rowid\",\"type\":\"numeric\"},{\"id\":\"item01\",\"name\":\"item01\",\"type\":\"numeric\"},{\"id\":\"item02\",\"name\":\"item02\",\"type\":\"numeric\"},{\"id\":\"item03\",\"name\":\"item03\",\"type\":\"numeric\"},{\"id\":\"item04\",\"name\":\"item04\",\"type\":\"numeric\"},{\"id\":\"item05\",\"name\":\"item05\",\"type\":\"numeric\"},{\"id\":\"item06\",\"name\":\"item06\",\"type\":\"numeric\"},{\"id\":\"item07\",\"name\":\"item07\",\"type\":\"numeric\"},{\"id\":\"item08\",\"name\":\"item08\",\"type\":\"numeric\"},{\"id\":\"item09\",\"name\":\"item09\",\"type\":\"numeric\"},{\"id\":\"item10\",\"name\":\"item10\",\"type\":\"numeric\"},{\"id\":\"item11\",\"name\":\"item11\",\"type\":\"numeric\"},{\"id\":\"item12\",\"name\":\"item12\",\"type\":\"numeric\"},{\"id\":\"item13\",\"name\":\"item13\",\"type\":\"numeric\"},{\"id\":\"item14\",\"name\":\"item14\",\"type\":\"numeric\"},{\"id\":\"item15\",\"name\":\"item15\",\"type\":\"numeric\"},{\"id\":\"item16\",\"name\":\"item16\",\"type\":\"numeric\"},{\"id\":\"item17\",\"name\":\"item17\",\"type\":\"numeric\"},{\"id\":\"item18\",\"name\":\"item18\",\"type\":\"numeric\"},{\"id\":\"item19\",\"name\":\"item19\",\"type\":\"numeric\"},{\"id\":\"item20\",\"name\":\"item20\",\"type\":\"numeric\"},{\"id\":\"item21\",\"name\":\"item21\",\"type\":\"numeric\"},{\"id\":\"item22\",\"name\":\"item22\",\"type\":\"numeric\"},{\"id\":\"item23\",\"name\":\"item23\",\"type\":\"numeric\"},{\"id\":\"item24\",\"name\":\"item24\",\"type\":\"numeric\"},{\"id\":\"item25\",\"name\":\"item25\",\"type\":\"numeric\"},{\"id\":\"item26\",\"name\":\"item26\",\"type\":\"numeric\"},{\"id\":\"item27\",\"name\":\"item27\",\"type\":\"numeric\"},{\"id\":\"item28\",\"name\":\"item28\",\"type\":\"numeric\"}],\"filterable\":true,\"searchable\":true,\"highlight\":true,\"dataKey\":\"05a6247c266d270080a626f440b6d066\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n## Q Matrix\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq |>\n  rowid_to_column() |>\n  react_table()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"reactable html-widget html-fill-item\" id=\"htmlwidget-869c5a0dec7e5c70c1cc\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-869c5a0dec7e5c70c1cc\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"rowid\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],\"trait1\":[1,0,1,0,0,0,1,0,0,1,1,1,1,1,0,1,0,0,0,1,1,0,0,0,1,0,1,0],\"trait2\":[1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,0,0,0,0],\"trait3\":[0,0,1,1,1,1,1,0,1,0,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,1,0,1]},\"columns\":[{\"id\":\"rowid\",\"name\":\"rowid\",\"type\":\"numeric\"},{\"id\":\"trait1\",\"name\":\"trait1\",\"type\":\"numeric\"},{\"id\":\"trait2\",\"name\":\"trait2\",\"type\":\"numeric\"},{\"id\":\"trait3\",\"name\":\"trait3\",\"type\":\"numeric\"}],\"filterable\":true,\"searchable\":true,\"highlight\":true,\"dataKey\":\"f3874aac65ac0bf17371704ec1e2dee5\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\nOkay, now on to the Q-matrix. For the ECPE dataset, the q-matrix has already been created from expert knowledge. Another option could be to try and learn the q-matrix from a structural learning algorithm, but that would have to be for another post. \n\nEach row in the Q-matrix corresponds to an item with each column corresponding to a latent attribute. So for the first row, the 1 values for the first and second attributes indicates that item 1 measures attribute 1 and attribute 2, but not attribute 3.\n\nThe shape of both the data (`y`) and the Q-matrix is important for how we will load data into Stan. The dataset has 2922 rows (number of students) and 28 columns (number of items). The Q-matrix will also be included in the list for Stan, where we'll take the number of attributes (3) and the values for each attribute in the Q-matrix.\n\n## Attribute Profile Matrix\n\nIn addition to the student data and the Q-matrix, I also am going to create an attribute profile matrix where each row is a latent class and the columns are the attributes. These classes correspond to whether the class has mastered each attribute. For instance, class number 1 will not master any attributes. I like to think of these as profiles of mastery. For instance, the class with no attributes mastered is the class profile 000.\n\nI am going to create this matrix by creating every possible combination of skills, which will create every potential latent class. Then I will just add each row as a numbered class. Below is the final matrix created for 3 skills.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nskills <- 3\nskill_combo <- rep(list(0:1), skills)\nalpha <- expand.grid(skill_combo)\n\nalpha <- alpha |>\n  rename(\n    att1 = Var1,\n    att2 = Var2,\n    att3 = Var3\n  ) |>\n  mutate(\n    class = seq(1:nrow(alpha)),\n    .before = att1\n  )\n\nalpha |> react_table()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"reactable html-widget html-fill-item\" id=\"htmlwidget-5630eeed22b3c569b5d7\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-5630eeed22b3c569b5d7\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"class\":[1,2,3,4,5,6,7,8],\"att1\":[0,1,0,1,0,1,0,1],\"att2\":[0,0,1,1,0,0,1,1],\"att3\":[0,0,0,0,1,1,1,1]},\"columns\":[{\"id\":\"class\",\"name\":\"class\",\"type\":\"numeric\"},{\"id\":\"att1\",\"name\":\"att1\",\"type\":\"numeric\"},{\"id\":\"att2\",\"name\":\"att2\",\"type\":\"numeric\"},{\"id\":\"att3\",\"name\":\"att3\",\"type\":\"numeric\"}],\"filterable\":true,\"searchable\":true,\"highlight\":true,\"dataKey\":\"aac5231724d03be73e309467adffc69a\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\nSo now we have everything to build our bayes net model. Before we get to that, I do want to visually show the models I will be creating in this series.\n\n# Models\n\nThe first model I will go over is a Log-Linear Cognitive Diagnostic Model (LCDM). This model is useful as a general diagnostic model that allows for different probabilities for each latent class. I'll then make small changes to the model to include edges between the latent attributes in different ways. \n\n## Log-linear Cognitive Diagnostic Model (LCDM)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlcdm_dag <- dagitty('dag {\nAtt1 [latent,pos=\"-0.533,-0.496\"]\nAtt2 [latent,pos=\"-0.495,-0.497\"]\nAtt3 [latent,pos=\"-0.457,-0.499\"]\nI1 [pos=\"-0.519,-0.522\"]\nI10 [pos=\"-0.535,-0.523\"]\nI11 [pos=\"-0.491,-0.512\"]\nI12 [pos=\"-0.489,-0.514\"]\nI13 [pos=\"-0.532,-0.522\"]\nI14 [pos=\"-0.528,-0.523\"]\nI15 [pos=\"-0.464,-0.531\"]\nI16 [pos=\"-0.487,-0.516\"]\nI17 [pos=\"-0.476,-0.521\"]\nI18 [pos=\"-0.461,-0.531\"]\nI19 [pos=\"-0.458,-0.531\"]\nI2 [pos=\"-0.516,-0.529\"]\nI20 [pos=\"-0.485,-0.519\"]\nI21 [pos=\"-0.483,-0.521\"]\nI22 [pos=\"-0.455,-0.531\"]\nI23 [pos=\"-0.510,-0.529\"]\nI24 [pos=\"-0.507,-0.529\"]\nI25 [pos=\"-0.525,-0.523\"]\nI26 [pos=\"-0.451,-0.531\"]\nI27 [pos=\"-0.522,-0.522\"]\nI28 [pos=\"-0.448,-0.531\"]\nI3 [pos=\"-0.496,-0.507\"]\nI4 [pos=\"-0.476,-0.530\"]\nI5 [pos=\"-0.473,-0.530\"]\nI6 [pos=\"-0.470,-0.531\"]\nI7 [pos=\"-0.494,-0.509\"]\nI8 [pos=\"-0.513,-0.529\"]\nI9 [pos=\"-0.467,-0.531\"]\nL1 [pos=\"-0.533,-0.490\"]\nL20 [pos=\"-0.498,-0.490\"]\nL21 [pos=\"-0.492,-0.490\"]\nL30 [pos=\"-0.461,-0.490\"]\nL31 [pos=\"-0.453,-0.491\"]\nAtt1 -> I1\nAtt1 -> I10\nAtt1 -> I11\nAtt1 -> I12\nAtt1 -> I13\nAtt1 -> I14\nAtt1 -> I16\nAtt1 -> I20\nAtt1 -> I21\nAtt1 -> I25\nAtt1 -> I27\nAtt1 -> I3\nAtt1 -> I7\nAtt2 -> I1\nAtt2 -> I17\nAtt2 -> I2\nAtt2 -> I23\nAtt2 -> I24\nAtt2 -> I8\nAtt3 -> I11\nAtt3 -> I12\nAtt3 -> I15\nAtt3 -> I16\nAtt3 -> I17\nAtt3 -> I18\nAtt3 -> I19\nAtt3 -> I20\nAtt3 -> I21\nAtt3 -> I22\nAtt3 -> I26\nAtt3 -> I28\nAtt3 -> I3\nAtt3 -> I4\nAtt3 -> I5\nAtt3 -> I6\nAtt3 -> I7\nAtt3 -> I9\nL1 -> Att1\nL20 -> Att2\nL21 -> Att2\nL30 -> Att3\nL31 -> Att3\n}\n')\n\nggdag(lcdm_dag) + theme_dag()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n## Linear LCDM-like Bayes Net\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlinear_lcdm <- dagitty('dag {\nAtt1 [latent,pos=\"-0.533,-0.496\"]\nAtt2 [latent,pos=\"-0.495,-0.497\"]\nAtt3 [latent,pos=\"-0.457,-0.499\"]\nI1 [pos=\"-0.519,-0.522\"]\nI10 [pos=\"-0.535,-0.523\"]\nI11 [pos=\"-0.491,-0.512\"]\nI12 [pos=\"-0.489,-0.514\"]\nI13 [pos=\"-0.532,-0.522\"]\nI14 [pos=\"-0.528,-0.523\"]\nI15 [pos=\"-0.464,-0.531\"]\nI16 [pos=\"-0.487,-0.516\"]\nI17 [pos=\"-0.476,-0.521\"]\nI18 [pos=\"-0.461,-0.531\"]\nI19 [pos=\"-0.458,-0.531\"]\nI2 [pos=\"-0.516,-0.529\"]\nI20 [pos=\"-0.485,-0.519\"]\nI21 [pos=\"-0.483,-0.521\"]\nI22 [pos=\"-0.455,-0.531\"]\nI23 [pos=\"-0.510,-0.529\"]\nI24 [pos=\"-0.507,-0.529\"]\nI25 [pos=\"-0.525,-0.523\"]\nI26 [pos=\"-0.451,-0.531\"]\nI27 [pos=\"-0.522,-0.522\"]\nI28 [pos=\"-0.448,-0.531\"]\nI3 [pos=\"-0.496,-0.507\"]\nI4 [pos=\"-0.476,-0.530\"]\nI5 [pos=\"-0.473,-0.530\"]\nI6 [pos=\"-0.470,-0.531\"]\nI7 [pos=\"-0.494,-0.509\"]\nI8 [pos=\"-0.513,-0.529\"]\nI9 [pos=\"-0.467,-0.531\"]\nL1 [pos=\"-0.533,-0.490\"]\nL20 [pos=\"-0.498,-0.490\"]\nL21 [pos=\"-0.492,-0.490\"]\nL30 [pos=\"-0.461,-0.490\"]\nL31 [pos=\"-0.453,-0.491\"]\nAtt1 -> Att2\nAtt1 -> I1\nAtt1 -> I10\nAtt1 -> I11\nAtt1 -> I12\nAtt1 -> I13\nAtt1 -> I14\nAtt1 -> I16\nAtt1 -> I20\nAtt1 -> I21\nAtt1 -> I25\nAtt1 -> I27\nAtt1 -> I3\nAtt1 -> I7\nAtt2 -> Att3\nAtt2 -> I1\nAtt2 -> I17\nAtt2 -> I2\nAtt2 -> I23\nAtt2 -> I24\nAtt2 -> I8\nAtt3 -> I11\nAtt3 -> I12\nAtt3 -> I15\nAtt3 -> I16\nAtt3 -> I17\nAtt3 -> I18\nAtt3 -> I19\nAtt3 -> I20\nAtt3 -> I21\nAtt3 -> I22\nAtt3 -> I26\nAtt3 -> I28\nAtt3 -> I3\nAtt3 -> I4\nAtt3 -> I5\nAtt3 -> I6\nAtt3 -> I7\nAtt3 -> I9\nL1 -> Att1\nL20 -> Att2\nL21 -> Att2\nL30 -> Att3\nL31 -> Att3\n}\n')\n\nggdag(linear_lcdm) + theme_dag()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n## Convergent LCDM-like Bayes Net\n\n\n::: {.cell}\n\n```{.r .cell-code}\nconvergent_lcdm <- dagitty('\ndag {\nAtt1 [latent,pos=\"-0.533,-0.496\"]\nAtt2 [latent,pos=\"-0.495,-0.502\"]\nAtt3 [latent,pos=\"-0.457,-0.499\"]\nI1 [pos=\"-0.519,-0.522\"]\nI10 [pos=\"-0.535,-0.523\"]\nI11 [pos=\"-0.491,-0.512\"]\nI12 [pos=\"-0.489,-0.514\"]\nI13 [pos=\"-0.532,-0.522\"]\nI14 [pos=\"-0.528,-0.523\"]\nI15 [pos=\"-0.464,-0.531\"]\nI16 [pos=\"-0.487,-0.516\"]\nI17 [pos=\"-0.476,-0.521\"]\nI18 [pos=\"-0.461,-0.531\"]\nI19 [pos=\"-0.458,-0.531\"]\nI2 [pos=\"-0.516,-0.529\"]\nI20 [pos=\"-0.485,-0.519\"]\nI21 [pos=\"-0.483,-0.521\"]\nI22 [pos=\"-0.455,-0.531\"]\nI23 [pos=\"-0.510,-0.529\"]\nI24 [pos=\"-0.507,-0.529\"]\nI25 [pos=\"-0.525,-0.523\"]\nI26 [pos=\"-0.451,-0.531\"]\nI27 [pos=\"-0.522,-0.522\"]\nI28 [pos=\"-0.448,-0.531\"]\nI3 [pos=\"-0.496,-0.507\"]\nI4 [pos=\"-0.476,-0.530\"]\nI5 [pos=\"-0.473,-0.530\"]\nI6 [pos=\"-0.470,-0.531\"]\nI7 [pos=\"-0.494,-0.509\"]\nI8 [pos=\"-0.513,-0.529\"]\nI9 [pos=\"-0.467,-0.531\"]\nL1 [pos=\"-0.533,-0.490\"]\nL20 [pos=\"-0.498,-0.490\"]\nL21 [pos=\"-0.492,-0.490\"]\nL30 [pos=\"-0.461,-0.490\"]\nL31 [pos=\"-0.453,-0.491\"]\nAtt1 -> Att3\nAtt1 -> I1\nAtt1 -> I10\nAtt1 -> I11\nAtt1 -> I12\nAtt1 -> I13\nAtt1 -> I14\nAtt1 -> I16\nAtt1 -> I20\nAtt1 -> I21\nAtt1 -> I25\nAtt1 -> I27\nAtt1 -> I3\nAtt1 -> I7\nAtt2 -> Att3\nAtt2 -> I1\nAtt2 -> I17\nAtt2 -> I2\nAtt2 -> I23\nAtt2 -> I24\nAtt2 -> I8\nAtt3 -> I11\nAtt3 -> I12\nAtt3 -> I15\nAtt3 -> I16\nAtt3 -> I17\nAtt3 -> I18\nAtt3 -> I19\nAtt3 -> I20\nAtt3 -> I21\nAtt3 -> I22\nAtt3 -> I26\nAtt3 -> I28\nAtt3 -> I3\nAtt3 -> I4\nAtt3 -> I5\nAtt3 -> I6\nAtt3 -> I7\nAtt3 -> I9\nL1 -> Att1\nL20 -> Att2\nL21 -> Att2\nL30 -> Att3\nL31 -> Att3\n}\n\n')\n\nggdag(convergent_lcdm) + theme_dag()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n## Divergent LCDM-like Bayes Net\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndivergent_lcdm <- dagitty('\ndag {\nAtt1 [latent,pos=\"-0.533,-0.496\"]\nAtt2 [latent,pos=\"-0.495,-0.502\"]\nAtt3 [latent,pos=\"-0.457,-0.499\"]\nI1 [pos=\"-0.519,-0.522\"]\nI10 [pos=\"-0.535,-0.523\"]\nI11 [pos=\"-0.491,-0.512\"]\nI12 [pos=\"-0.489,-0.514\"]\nI13 [pos=\"-0.532,-0.522\"]\nI14 [pos=\"-0.528,-0.523\"]\nI15 [pos=\"-0.464,-0.531\"]\nI16 [pos=\"-0.487,-0.516\"]\nI17 [pos=\"-0.476,-0.521\"]\nI18 [pos=\"-0.461,-0.531\"]\nI19 [pos=\"-0.458,-0.531\"]\nI2 [pos=\"-0.516,-0.529\"]\nI20 [pos=\"-0.485,-0.519\"]\nI21 [pos=\"-0.483,-0.521\"]\nI22 [pos=\"-0.455,-0.531\"]\nI23 [pos=\"-0.510,-0.529\"]\nI24 [pos=\"-0.507,-0.529\"]\nI25 [pos=\"-0.525,-0.523\"]\nI26 [pos=\"-0.451,-0.531\"]\nI27 [pos=\"-0.522,-0.522\"]\nI28 [pos=\"-0.448,-0.531\"]\nI3 [pos=\"-0.496,-0.507\"]\nI4 [pos=\"-0.476,-0.530\"]\nI5 [pos=\"-0.473,-0.530\"]\nI6 [pos=\"-0.470,-0.531\"]\nI7 [pos=\"-0.494,-0.509\"]\nI8 [pos=\"-0.513,-0.529\"]\nI9 [pos=\"-0.467,-0.531\"]\nL1 [pos=\"-0.533,-0.490\"]\nL20 [pos=\"-0.498,-0.490\"]\nL21 [pos=\"-0.492,-0.490\"]\nL30 [pos=\"-0.461,-0.490\"]\nL31 [pos=\"-0.453,-0.491\"]\nAtt1 -> Att2\nAtt1 -> Att3\nAtt1 -> I1\nAtt1 -> I10\nAtt1 -> I11\nAtt1 -> I12\nAtt1 -> I13\nAtt1 -> I14\nAtt1 -> I16\nAtt1 -> I20\nAtt1 -> I21\nAtt1 -> I25\nAtt1 -> I27\nAtt1 -> I3\nAtt1 -> I7\nAtt2 -> I1\nAtt2 -> I17\nAtt2 -> I2\nAtt2 -> I23\nAtt2 -> I24\nAtt2 -> I8\nAtt3 -> I11\nAtt3 -> I12\nAtt3 -> I15\nAtt3 -> I16\nAtt3 -> I17\nAtt3 -> I18\nAtt3 -> I19\nAtt3 -> I20\nAtt3 -> I21\nAtt3 -> I22\nAtt3 -> I26\nAtt3 -> I28\nAtt3 -> I3\nAtt3 -> I4\nAtt3 -> I5\nAtt3 -> I6\nAtt3 -> I7\nAtt3 -> I9\nL1 -> Att1\nL20 -> Att2\nL21 -> Att2\nL30 -> Att3\nL31 -> Att3\n}\n')\n\nggdag(divergent_lcdm) + theme_dag()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n-   I = Item\n\n-   L = Lambda\n\n-   Att = Latent Attribute\n\n## Deterministic Inputs, Noisy \"And\" Gate (DINA)\n\nBelow are DINA models through a Bayesian Network framework. Essentially, the model assumes that each student has mastered all skills in order to correctly respond to an assessment item. See [here](https://mc-stan.org/documentation/case-studies/dina_independent.html) for an excellent post about the DINA model.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndina_dag <- dagitty('\ndag {\nAtt1 [latent,pos=\"-0.533,-0.495\"]\nAtt2 [latent,pos=\"-0.491,-0.496\"]\nAtt3 [latent,pos=\"-0.456,-0.495\"]\nD [pos=\"-0.490,-0.509\"]\nFP [pos=\"-0.497,-0.536\"]\nI1 [pos=\"-0.536,-0.520\"]\nI10 [pos=\"-0.509,-0.520\"]\nI11 [pos=\"-0.506,-0.520\"]\nI12 [pos=\"-0.503,-0.519\"]\nI13 [pos=\"-0.500,-0.519\"]\nI14 [pos=\"-0.497,-0.519\"]\nI15 [pos=\"-0.494,-0.519\"]\nI16 [pos=\"-0.492,-0.519\"]\nI17 [pos=\"-0.489,-0.519\"]\nI18 [pos=\"-0.486,-0.519\"]\nI19 [pos=\"-0.483,-0.519\"]\nI2 [pos=\"-0.533,-0.520\"]\nI20 [pos=\"-0.480,-0.519\"]\nI21 [pos=\"-0.477,-0.519\"]\nI22 [pos=\"-0.474,-0.519\"]\nI23 [pos=\"-0.471,-0.519\"]\nI24 [pos=\"-0.468,-0.519\"]\nI25 [pos=\"-0.465,-0.519\"]\nI26 [pos=\"-0.462,-0.519\"]\nI27 [pos=\"-0.459,-0.519\"]\nI28 [pos=\"-0.456,-0.519\"]\nI3 [pos=\"-0.530,-0.520\"]\nI4 [pos=\"-0.527,-0.520\"]\nI5 [pos=\"-0.524,-0.520\"]\nI6 [pos=\"-0.521,-0.520\"]\nI7 [pos=\"-0.518,-0.520\"]\nI8 [pos=\"-0.515,-0.520\"]\nI9 [pos=\"-0.512,-0.520\"]\nL1 [pos=\"-0.533,-0.490\"]\nL20 [pos=\"-0.494,-0.490\"]\nL21 [pos=\"-0.488,-0.490\"]\nL30 [pos=\"-0.460,-0.489\"]\nL31 [pos=\"-0.453,-0.489\"]\nQ [pos=\"-0.449,-0.503\"]\nTP [pos=\"-0.486,-0.536\"]\nAtt1 -> D\nAtt2 -> D\nAtt3 -> D\nFP -> I1\nFP -> I10\nFP -> I11\nFP -> I12\nFP -> I13\nFP -> I14\nFP -> I15\nFP -> I16\nFP -> I17\nFP -> I18\nFP -> I19\nFP -> I2\nFP -> I20\nFP -> I21\nFP -> I22\nFP -> I23\nFP -> I24\nFP -> I25\nFP -> I26\nFP -> I27\nFP -> I28\nFP -> I3\nFP -> I4\nFP -> I5\nFP -> I6\nFP -> I7\nFP -> I8\nFP -> I9\nI1 -> D\nI10 -> D\nI11 -> D\nI12 -> D\nI13 -> D\nI14 -> D\nI15 -> D\nI16 -> D\nI17 -> D\nI18 -> D\nI19 -> D\nI2 -> D\nI20 -> D\nI21 -> D\nI22 -> D\nI23 -> D\nI24 -> D\nI25 -> D\nI26 -> D\nI27 -> D\nI28 -> D\nI3 -> D\nI4 -> D\nI5 -> D\nI6 -> D\nI7 -> D\nI8 -> D\nI9 -> D\nL1 -> Att1\nL20 -> Att2\nL21 -> Att2\nL30 -> Att3\nL31 -> Att3\nQ -> D\nTP -> I1\nTP -> I10\nTP -> I11\nTP -> I12\nTP -> I13\nTP -> I14\nTP -> I15\nTP -> I16\nTP -> I17\nTP -> I18\nTP -> I19\nTP -> I2\nTP -> I20\nTP -> I21\nTP -> I22\nTP -> I23\nTP -> I24\nTP -> I25\nTP -> I26\nTP -> I27\nTP -> I28\nTP -> I3\nTP -> I4\nTP -> I5\nTP -> I6\nTP -> I7\nTP -> I8\nTP -> I9\n}\n')\n\nggdag(dina_dag) + theme_dag()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n## Linear DINA\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlinear_dina <- dagitty('\ndag {\nAtt1 [latent,pos=\"-0.533,-0.495\"]\nAtt2 [latent,pos=\"-0.491,-0.496\"]\nAtt3 [latent,pos=\"-0.456,-0.495\"]\nD [pos=\"-0.490,-0.509\"]\nFP [pos=\"-0.497,-0.536\"]\nI1 [pos=\"-0.536,-0.520\"]\nI10 [pos=\"-0.509,-0.520\"]\nI11 [pos=\"-0.506,-0.520\"]\nI12 [pos=\"-0.503,-0.519\"]\nI13 [pos=\"-0.500,-0.519\"]\nI14 [pos=\"-0.497,-0.519\"]\nI15 [pos=\"-0.494,-0.519\"]\nI16 [pos=\"-0.492,-0.519\"]\nI17 [pos=\"-0.489,-0.519\"]\nI18 [pos=\"-0.486,-0.519\"]\nI19 [pos=\"-0.483,-0.519\"]\nI2 [pos=\"-0.533,-0.520\"]\nI20 [pos=\"-0.480,-0.519\"]\nI21 [pos=\"-0.477,-0.519\"]\nI22 [pos=\"-0.474,-0.519\"]\nI23 [pos=\"-0.471,-0.519\"]\nI24 [pos=\"-0.468,-0.519\"]\nI25 [pos=\"-0.465,-0.519\"]\nI26 [pos=\"-0.462,-0.519\"]\nI27 [pos=\"-0.459,-0.519\"]\nI28 [pos=\"-0.456,-0.519\"]\nI3 [pos=\"-0.530,-0.520\"]\nI4 [pos=\"-0.527,-0.520\"]\nI5 [pos=\"-0.524,-0.520\"]\nI6 [pos=\"-0.521,-0.520\"]\nI7 [pos=\"-0.518,-0.520\"]\nI8 [pos=\"-0.515,-0.520\"]\nI9 [pos=\"-0.512,-0.520\"]\nL1 [pos=\"-0.533,-0.490\"]\nL20 [pos=\"-0.494,-0.490\"]\nL21 [pos=\"-0.488,-0.490\"]\nL30 [pos=\"-0.460,-0.489\"]\nL31 [pos=\"-0.453,-0.489\"]\nQ [pos=\"-0.449,-0.503\"]\nTP [pos=\"-0.486,-0.536\"]\nAtt1 -> Att2\nAtt1 -> D\nAtt2 -> Att3\nAtt2 -> D\nAtt3 -> D\nFP -> I1\nFP -> I10\nFP -> I11\nFP -> I12\nFP -> I13\nFP -> I14\nFP -> I15\nFP -> I16\nFP -> I17\nFP -> I18\nFP -> I19\nFP -> I2\nFP -> I20\nFP -> I21\nFP -> I22\nFP -> I23\nFP -> I24\nFP -> I25\nFP -> I26\nFP -> I27\nFP -> I28\nFP -> I3\nFP -> I4\nFP -> I5\nFP -> I6\nFP -> I7\nFP -> I8\nFP -> I9\nI1 -> D\nI10 -> D\nI11 -> D\nI12 -> D\nI13 -> D\nI14 -> D\nI15 -> D\nI16 -> D\nI17 -> D\nI18 -> D\nI19 -> D\nI2 -> D\nI20 -> D\nI21 -> D\nI22 -> D\nI23 -> D\nI24 -> D\nI25 -> D\nI26 -> D\nI27 -> D\nI28 -> D\nI3 -> D\nI4 -> D\nI5 -> D\nI6 -> D\nI7 -> D\nI8 -> D\nI9 -> D\nL1 -> Att1\nL20 -> Att2\nL21 -> Att2\nL30 -> Att3\nL31 -> Att3\nQ -> D\nTP -> I1\nTP -> I10\nTP -> I11\nTP -> I12\nTP -> I13\nTP -> I14\nTP -> I15\nTP -> I16\nTP -> I17\nTP -> I18\nTP -> I19\nTP -> I2\nTP -> I20\nTP -> I21\nTP -> I22\nTP -> I23\nTP -> I24\nTP -> I25\nTP -> I26\nTP -> I27\nTP -> I28\nTP -> I3\nTP -> I4\nTP -> I5\nTP -> I6\nTP -> I7\nTP -> I8\nTP -> I9\n}\n')\n\nggdag(linear_dina) + theme_dag()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n## Convergent DINA\n\n\n::: {.cell}\n\n```{.r .cell-code}\nconvergent_dina <- dagitty('\ndag {\nAtt1 [latent,pos=\"-0.533,-0.495\"]\nAtt2 [latent,pos=\"-0.491,-0.499\"]\nAtt3 [latent,pos=\"-0.456,-0.495\"]\nD [pos=\"-0.490,-0.509\"]\nFP [pos=\"-0.497,-0.536\"]\nI1 [pos=\"-0.536,-0.520\"]\nI10 [pos=\"-0.509,-0.520\"]\nI11 [pos=\"-0.506,-0.520\"]\nI12 [pos=\"-0.503,-0.519\"]\nI13 [pos=\"-0.500,-0.519\"]\nI14 [pos=\"-0.497,-0.519\"]\nI15 [pos=\"-0.494,-0.519\"]\nI16 [pos=\"-0.492,-0.519\"]\nI17 [pos=\"-0.489,-0.519\"]\nI18 [pos=\"-0.486,-0.519\"]\nI19 [pos=\"-0.483,-0.519\"]\nI2 [pos=\"-0.533,-0.520\"]\nI20 [pos=\"-0.480,-0.519\"]\nI21 [pos=\"-0.477,-0.519\"]\nI22 [pos=\"-0.474,-0.519\"]\nI23 [pos=\"-0.471,-0.519\"]\nI24 [pos=\"-0.468,-0.519\"]\nI25 [pos=\"-0.465,-0.519\"]\nI26 [pos=\"-0.462,-0.519\"]\nI27 [pos=\"-0.459,-0.519\"]\nI28 [pos=\"-0.456,-0.519\"]\nI3 [pos=\"-0.530,-0.520\"]\nI4 [pos=\"-0.527,-0.520\"]\nI5 [pos=\"-0.524,-0.520\"]\nI6 [pos=\"-0.521,-0.520\"]\nI7 [pos=\"-0.518,-0.520\"]\nI8 [pos=\"-0.515,-0.520\"]\nI9 [pos=\"-0.512,-0.520\"]\nL1 [pos=\"-0.533,-0.490\"]\nL20 [pos=\"-0.494,-0.490\"]\nL21 [pos=\"-0.488,-0.490\"]\nL30 [pos=\"-0.460,-0.489\"]\nL31 [pos=\"-0.453,-0.489\"]\nQ [pos=\"-0.449,-0.503\"]\nTP [pos=\"-0.486,-0.536\"]\nAtt1 -> Att3\nAtt1 -> D\nAtt2 -> Att3\nAtt2 -> D\nAtt3 -> D\nFP -> I1\nFP -> I10\nFP -> I11\nFP -> I12\nFP -> I13\nFP -> I14\nFP -> I15\nFP -> I16\nFP -> I17\nFP -> I18\nFP -> I19\nFP -> I2\nFP -> I20\nFP -> I21\nFP -> I22\nFP -> I23\nFP -> I24\nFP -> I25\nFP -> I26\nFP -> I27\nFP -> I28\nFP -> I3\nFP -> I4\nFP -> I5\nFP -> I6\nFP -> I7\nFP -> I8\nFP -> I9\nI1 -> D\nI10 -> D\nI11 -> D\nI12 -> D\nI13 -> D\nI14 -> D\nI15 -> D\nI16 -> D\nI17 -> D\nI18 -> D\nI19 -> D\nI2 -> D\nI20 -> D\nI21 -> D\nI22 -> D\nI23 -> D\nI24 -> D\nI25 -> D\nI26 -> D\nI27 -> D\nI28 -> D\nI3 -> D\nI4 -> D\nI5 -> D\nI6 -> D\nI7 -> D\nI8 -> D\nI9 -> D\nL1 -> Att1\nL20 -> Att2\nL21 -> Att2\nL30 -> Att3\nL31 -> Att3\nQ -> D\nTP -> I1\nTP -> I10\nTP -> I11\nTP -> I12\nTP -> I13\nTP -> I14\nTP -> I15\nTP -> I16\nTP -> I17\nTP -> I18\nTP -> I19\nTP -> I2\nTP -> I20\nTP -> I21\nTP -> I22\nTP -> I23\nTP -> I24\nTP -> I25\nTP -> I26\nTP -> I27\nTP -> I28\nTP -> I3\nTP -> I4\nTP -> I5\nTP -> I6\nTP -> I7\nTP -> I8\nTP -> I9\n}\n')\n\nggdag(convergent_dina) + theme_dag()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n## Divergent DINA\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndivergent_dina <- dagitty('\ndag {\nAtt1 [latent,pos=\"-0.533,-0.495\"]\nAtt2 [latent,pos=\"-0.491,-0.499\"]\nAtt3 [latent,pos=\"-0.456,-0.495\"]\nD [pos=\"-0.490,-0.509\"]\nFP [pos=\"-0.497,-0.536\"]\nI1 [pos=\"-0.536,-0.520\"]\nI10 [pos=\"-0.509,-0.520\"]\nI11 [pos=\"-0.506,-0.520\"]\nI12 [pos=\"-0.503,-0.519\"]\nI13 [pos=\"-0.500,-0.519\"]\nI14 [pos=\"-0.497,-0.519\"]\nI15 [pos=\"-0.494,-0.519\"]\nI16 [pos=\"-0.492,-0.519\"]\nI17 [pos=\"-0.489,-0.519\"]\nI18 [pos=\"-0.486,-0.519\"]\nI19 [pos=\"-0.483,-0.519\"]\nI2 [pos=\"-0.533,-0.520\"]\nI20 [pos=\"-0.480,-0.519\"]\nI21 [pos=\"-0.477,-0.519\"]\nI22 [pos=\"-0.474,-0.519\"]\nI23 [pos=\"-0.471,-0.519\"]\nI24 [pos=\"-0.468,-0.519\"]\nI25 [pos=\"-0.465,-0.519\"]\nI26 [pos=\"-0.462,-0.519\"]\nI27 [pos=\"-0.459,-0.519\"]\nI28 [pos=\"-0.456,-0.519\"]\nI3 [pos=\"-0.530,-0.520\"]\nI4 [pos=\"-0.527,-0.520\"]\nI5 [pos=\"-0.524,-0.520\"]\nI6 [pos=\"-0.521,-0.520\"]\nI7 [pos=\"-0.518,-0.520\"]\nI8 [pos=\"-0.515,-0.520\"]\nI9 [pos=\"-0.512,-0.520\"]\nL1 [pos=\"-0.533,-0.490\"]\nL20 [pos=\"-0.494,-0.490\"]\nL21 [pos=\"-0.488,-0.490\"]\nL30 [pos=\"-0.460,-0.489\"]\nL31 [pos=\"-0.453,-0.489\"]\nQ [pos=\"-0.449,-0.503\"]\nTP [pos=\"-0.486,-0.536\"]\nAtt1 -> Att2\nAtt1 -> Att3\nAtt1 -> D\nAtt2 -> D\nAtt3 -> D\nFP -> I1\nFP -> I10\nFP -> I11\nFP -> I12\nFP -> I13\nFP -> I14\nFP -> I15\nFP -> I16\nFP -> I17\nFP -> I18\nFP -> I19\nFP -> I2\nFP -> I20\nFP -> I21\nFP -> I22\nFP -> I23\nFP -> I24\nFP -> I25\nFP -> I26\nFP -> I27\nFP -> I28\nFP -> I3\nFP -> I4\nFP -> I5\nFP -> I6\nFP -> I7\nFP -> I8\nFP -> I9\nI1 -> D\nI10 -> D\nI11 -> D\nI12 -> D\nI13 -> D\nI14 -> D\nI15 -> D\nI16 -> D\nI17 -> D\nI18 -> D\nI19 -> D\nI2 -> D\nI20 -> D\nI21 -> D\nI22 -> D\nI23 -> D\nI24 -> D\nI25 -> D\nI26 -> D\nI27 -> D\nI28 -> D\nI3 -> D\nI4 -> D\nI5 -> D\nI6 -> D\nI7 -> D\nI8 -> D\nI9 -> D\nL1 -> Att1\nL20 -> Att2\nL21 -> Att2\nL30 -> Att3\nL31 -> Att3\nQ -> D\nTP -> I1\nTP -> I10\nTP -> I11\nTP -> I12\nTP -> I13\nTP -> I14\nTP -> I15\nTP -> I16\nTP -> I17\nTP -> I18\nTP -> I19\nTP -> I2\nTP -> I20\nTP -> I21\nTP -> I22\nTP -> I23\nTP -> I24\nTP -> I25\nTP -> I26\nTP -> I27\nTP -> I28\nTP -> I3\nTP -> I4\nTP -> I5\nTP -> I6\nTP -> I7\nTP -> I8\nTP -> I9\n}\n')\n\nggdag(divergent_dina) + theme_dag()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n-   TP = True Positive\n\n-   FP = False Positive\n\n-   Q = Q-matrix\n\n-   I = Item\n\n-   D = Delta\n\n-   L = Lambda\n\n-   Att = Latent Attribute\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/core-js-2.5.3/shim.min.js\"></script>\n<script src=\"../../site_libs/react-18.2.0/react.min.js\"></script>\n<script src=\"../../site_libs/react-18.2.0/react-dom.min.js\"></script>\n<script src=\"../../site_libs/reactwidget-2.0.0/react-tools.js\"></script>\n<link href=\"../../site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<link href=\"../../site_libs/reactable-0.4.4/reactable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/reactable-binding-0.4.4/reactable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}